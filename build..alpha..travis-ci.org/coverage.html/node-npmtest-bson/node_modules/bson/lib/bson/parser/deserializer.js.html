<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-bson/node_modules/bson/lib/bson/parser/deserializer.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-bson">npmtest-bson (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-bson/node_modules/bson/lib/bson/parser/deserializer.js</span></h1>
    <h2>
        
        Statements: <span class="metric">13.96% <small>(43 / 308)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 233)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 4)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">15.3% <small>(43 / 281)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-bson/node_modules/bson/lib/bson/parser/</a> &#187; deserializer.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">"use strict"
&nbsp;
var readIEEE754 = require('../float_parser').readIEEE754,
	f = require('util').format,
	Long = require('../long').Long,
  Double = require('../double').Double,
  Timestamp = require('../timestamp').Timestamp,
  ObjectID = require('../objectid').ObjectID,
  Symbol = require('../symbol').Symbol,
  Code = require('../code').Code,
  MinKey = require('../min_key').MinKey,
  MaxKey = require('../max_key').MaxKey,
	Decimal128 = require('../decimal128'),
	Int32 = require('../int_32'),
  DBRef = require('../db_ref').DBRef,
  BSONRegExp = require('../regexp').BSONRegExp,
  Binary = require('../binary').Binary;
&nbsp;
var deserialize = <span class="fstat-no" title="function not covered" >function(buffer, options, isArray) {</span>
<span class="cstat-no" title="statement not covered" >	options = options == null ? {} : options;</span>
<span class="cstat-no" title="statement not covered" >	var index = options &amp;&amp; options.index ? options.index : 0;</span>
	// Read the document size
<span class="cstat-no" title="statement not covered" >  var size = buffer[index] | buffer[index+1] &lt;&lt; 8 | buffer[index+2] &lt;&lt; 16 | buffer[index+3] &lt;&lt; 24;</span>
&nbsp;
	// Ensure buffer is valid size
<span class="cstat-no" title="statement not covered" >  if(size &lt; 5 || buffer.length &lt; size || (size + index) &gt; buffer.length) {</span>
<span class="cstat-no" title="statement not covered" >		throw new Error("corrupt bson message");</span>
	}
&nbsp;
	// Illegal end value
<span class="cstat-no" title="statement not covered" >	if(buffer[index + size - 1] != 0) {</span>
<span class="cstat-no" title="statement not covered" >		throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");</span>
	}
&nbsp;
	// Start deserializtion
<span class="cstat-no" title="statement not covered" >	return deserializeObject(buffer, index, options, isArray);</span>
}
&nbsp;
var deserializeObject = <span class="fstat-no" title="function not covered" >function(buffer, index, options, isArray) {</span>
<span class="cstat-no" title="statement not covered" >	var evalFunctions = options['evalFunctions'] == null ? false : options['evalFunctions'];</span>
<span class="cstat-no" title="statement not covered" >  var cacheFunctions = options['cacheFunctions'] == null ? false : options['cacheFunctions'];</span>
<span class="cstat-no" title="statement not covered" >  var cacheFunctionsCrc32 = options['cacheFunctionsCrc32'] == null ? false : options['cacheFunctionsCrc32'];</span>
<span class="cstat-no" title="statement not covered" >	var fieldsAsRaw = options['fieldsAsRaw'] == null ? null : options['fieldsAsRaw'];</span>
&nbsp;
	// Return raw bson buffer instead of parsing it
<span class="cstat-no" title="statement not covered" >	var raw = options['raw'] == null ? false : options['raw'];</span>
&nbsp;
	// Return BSONRegExp objects instead of native regular expressions
<span class="cstat-no" title="statement not covered" >  var bsonRegExp = typeof options['bsonRegExp'] == 'boolean' ? options['bsonRegExp'] : false;</span>
&nbsp;
	// Controls the promotion of values vs wrapper classes
<span class="cstat-no" title="statement not covered" >	var promoteBuffers = options['promoteBuffers'] == null ? false : options['promoteBuffers'];</span>
<span class="cstat-no" title="statement not covered" >	var promoteLongs = options['promoteLongs'] == null ? true : options['promoteLongs'];</span>
<span class="cstat-no" title="statement not covered" >	var promoteValues = options['promoteValues'] == null ? true : options['promoteValues'];</span>
&nbsp;
	// Set the start index
<span class="cstat-no" title="statement not covered" >	var startIndex = index;</span>
&nbsp;
  // Validate that we have at least 4 bytes of buffer
<span class="cstat-no" title="statement not covered" >  if(buffer.length &lt; 5) <span class="cstat-no" title="statement not covered" >throw new Error("corrupt bson message &lt; 5 bytes long");</span></span>
&nbsp;
	// Read the document size
<span class="cstat-no" title="statement not covered" >  var size = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;</span>
&nbsp;
	// Ensure buffer is valid size
<span class="cstat-no" title="statement not covered" >  if(size &lt; 5 || size &gt; buffer.length) <span class="cstat-no" title="statement not covered" >throw new Error("corrupt bson message");</span></span>
&nbsp;
  // Create holding object
<span class="cstat-no" title="statement not covered" >  var object = isArray ? [] : {};</span>
	// Used for arrays to skip having to perform utf8 decoding
<span class="cstat-no" title="statement not covered" >	var arrayIndex = 0;</span>
&nbsp;
  // While we have more left data left keep parsing
<span class="cstat-no" title="statement not covered" >  while(true) {</span>
    // Read the type
<span class="cstat-no" title="statement not covered" >    var elementType = buffer[index++];</span>
    // If we get a zero it's the last byte, exit
<span class="cstat-no" title="statement not covered" >    if(elementType == 0) {</span>
<span class="cstat-no" title="statement not covered" >			break;</span>
		}
&nbsp;
		// Get the start search index
<span class="cstat-no" title="statement not covered" >		var i = index;</span>
		// Locate the end of the c string
<span class="cstat-no" title="statement not covered" >		while(buffer[i] !== 0x00 &amp;&amp; i &lt; buffer.length) {</span>
<span class="cstat-no" title="statement not covered" >			i++</span>
		}
&nbsp;
		// If are at the end of the buffer there is a problem with the document
<span class="cstat-no" title="statement not covered" >		if(i &gt;= buffer.length) <span class="cstat-no" title="statement not covered" >throw new Error("Bad BSON Document: illegal CString")</span></span>
<span class="cstat-no" title="statement not covered" >		var name = isArray ? arrayIndex++ : buffer.toString('utf8', index, i);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		index = i + 1;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		if(elementType == BSON.BSON_DATA_STRING) {</span>
<span class="cstat-no" title="statement not covered" >      var stringSize = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;</span>
<span class="cstat-no" title="statement not covered" >			if(stringSize &lt;= 0 || stringSize &gt; (buffer.length - index) || buffer[index + stringSize - 1] != 0) <span class="cstat-no" title="statement not covered" >throw new Error("bad string length in bson");</span></span>
<span class="cstat-no" title="statement not covered" >      object[name] = buffer.toString('utf8', index, index + stringSize - 1);</span>
<span class="cstat-no" title="statement not covered" >      index = index + stringSize;</span>
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_OID) {</span>
<span class="cstat-no" title="statement not covered" >			var oid = new Buffer(12);</span>
<span class="cstat-no" title="statement not covered" >			buffer.copy(oid, 0, index, index + 12);</span>
<span class="cstat-no" title="statement not covered" >      object[name] = new ObjectID(oid);</span>
<span class="cstat-no" title="statement not covered" >      index = index + 12;</span>
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_INT &amp;&amp; promoteValues == false) {</span>
<span class="cstat-no" title="statement not covered" >			object[name] = new Int32(buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24);</span>
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_INT) {</span>
<span class="cstat-no" title="statement not covered" >      object[name] = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;</span>
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_NUMBER &amp;&amp; promoteValues == false) {</span>
<span class="cstat-no" title="statement not covered" >			object[name] = new Double(buffer.readDoubleLE(index));</span>
<span class="cstat-no" title="statement not covered" >			index = index + 8;</span>
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_NUMBER) {</span>
<span class="cstat-no" title="statement not covered" >			object[name] = buffer.readDoubleLE(index);</span>
<span class="cstat-no" title="statement not covered" >      index = index + 8;</span>
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_DATE) {</span>
<span class="cstat-no" title="statement not covered" >      var lowBits = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;</span>
<span class="cstat-no" title="statement not covered" >      var highBits = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;</span>
<span class="cstat-no" title="statement not covered" >      object[name] = new Date(new Long(lowBits, highBits).toNumber());</span>
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_BOOLEAN) {</span>
<span class="cstat-no" title="statement not covered" >			if(buffer[index] != 0 &amp;&amp; buffer[index] != 1) <span class="cstat-no" title="statement not covered" >throw new Error('illegal boolean type value');</span></span>
<span class="cstat-no" title="statement not covered" >      object[name] = buffer[index++] == 1;</span>
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_OBJECT) {</span>
<span class="cstat-no" title="statement not covered" >			var _index = index;</span>
<span class="cstat-no" title="statement not covered" >      var objectSize = buffer[index] | buffer[index + 1] &lt;&lt; 8 | buffer[index + 2] &lt;&lt; 16 | buffer[index + 3] &lt;&lt; 24;</span>
<span class="cstat-no" title="statement not covered" >			if(objectSize &lt;= 0 || objectSize &gt; (buffer.length - index)) <span class="cstat-no" title="statement not covered" >throw new Error("bad embedded document length in bson");</span></span>
&nbsp;
			// We have a raw value
<span class="cstat-no" title="statement not covered" >			if(raw) {</span>
<span class="cstat-no" title="statement not covered" >	      object[name] = buffer.slice(index, index + objectSize);</span>
			} else {
<span class="cstat-no" title="statement not covered" >	      object[name] = deserializeObject(buffer, _index, options, false);</span>
			}
&nbsp;
<span class="cstat-no" title="statement not covered" >      index = index + objectSize;</span>
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_ARRAY) {</span>
<span class="cstat-no" title="statement not covered" >			var _index = index;</span>
<span class="cstat-no" title="statement not covered" >      var objectSize = buffer[index] | buffer[index + 1] &lt;&lt; 8 | buffer[index + 2] &lt;&lt; 16 | buffer[index + 3] &lt;&lt; 24;</span>
<span class="cstat-no" title="statement not covered" >			var arrayOptions = options;</span>
&nbsp;
			// Stop index
<span class="cstat-no" title="statement not covered" >			var stopIndex = index + objectSize;</span>
&nbsp;
			// All elements of array to be returned as raw bson
<span class="cstat-no" title="statement not covered" >			if(fieldsAsRaw &amp;&amp; fieldsAsRaw[name]) {</span>
<span class="cstat-no" title="statement not covered" >				arrayOptions = {};</span>
<span class="cstat-no" title="statement not covered" >				for(var n in options) <span class="cstat-no" title="statement not covered" >arrayOptions[n] = options[n];</span></span>
<span class="cstat-no" title="statement not covered" >				arrayOptions['raw'] = true;</span>
			}
&nbsp;
<span class="cstat-no" title="statement not covered" >      object[name] = deserializeObject(buffer, _index, arrayOptions, true);</span>
<span class="cstat-no" title="statement not covered" >      index = index + objectSize;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			if(buffer[index - 1] != 0) <span class="cstat-no" title="statement not covered" >throw new Error('invalid array terminator byte');</span></span>
<span class="cstat-no" title="statement not covered" >			if(index != stopIndex) <span class="cstat-no" title="statement not covered" >throw new Error('corrupted array bson');</span></span>
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_UNDEFINED) {</span>
<span class="cstat-no" title="statement not covered" >      object[name] = undefined;</span>
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_NULL) {</span>
<span class="cstat-no" title="statement not covered" >			object[name] = null;</span>
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_LONG) {</span>
      // Unpack the low and high bits
<span class="cstat-no" title="statement not covered" >      var lowBits = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;</span>
<span class="cstat-no" title="statement not covered" >      var highBits = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;</span>
<span class="cstat-no" title="statement not covered" >      var long = new Long(lowBits, highBits);</span>
      // Promote the long if possible
<span class="cstat-no" title="statement not covered" >      if(promoteLongs &amp;&amp; promoteValues == true) {</span>
<span class="cstat-no" title="statement not covered" >        object[name] = long.lessThanOrEqual(JS_INT_MAX_LONG) &amp;&amp; long.greaterThanOrEqual(JS_INT_MIN_LONG) ? long.toNumber() : long;</span>
      } else {
<span class="cstat-no" title="statement not covered" >        object[name] = long;</span>
      }
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_DECIMAL128) {</span>
			// Buffer to contain the decimal bytes
<span class="cstat-no" title="statement not covered" >			var bytes = new Buffer(16);</span>
			// Copy the next 16 bytes into the bytes buffer
<span class="cstat-no" title="statement not covered" >			buffer.copy(bytes, 0, index, index + 16);</span>
			// Update index
<span class="cstat-no" title="statement not covered" >			index = index + 16;</span>
			// Assign the new Decimal128 value
<span class="cstat-no" title="statement not covered" >			var decimal128 = new Decimal128(bytes);</span>
			// If we have an alternative mapper use that
<span class="cstat-no" title="statement not covered" >			object[name] = decimal128.toObject ? decimal128.toObject() : decimal128;</span>
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_BINARY) {</span>
<span class="cstat-no" title="statement not covered" >      var binarySize = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;</span>
<span class="cstat-no" title="statement not covered" >			var totalBinarySize = binarySize;</span>
<span class="cstat-no" title="statement not covered" >      var subType = buffer[index++];</span>
&nbsp;
			// Did we have a negative binary size, throw
<span class="cstat-no" title="statement not covered" >			if(binarySize &lt; 0) <span class="cstat-no" title="statement not covered" >throw new Error('Negative binary type element size found');</span></span>
&nbsp;
			// Is the length longer than the document
<span class="cstat-no" title="statement not covered" >			if(binarySize &gt; buffer.length) <span class="cstat-no" title="statement not covered" >throw new Error('Binary type size larger than document size');</span></span>
&nbsp;
			// Decode as raw Buffer object if options specifies it
<span class="cstat-no" title="statement not covered" >      if(buffer['slice'] != null) {</span>
        // If we have subtype 2 skip the 4 bytes for the size
<span class="cstat-no" title="statement not covered" >        if(subType == Binary.SUBTYPE_BYTE_ARRAY) {</span>
<span class="cstat-no" title="statement not covered" >          binarySize = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;</span>
<span class="cstat-no" title="statement not covered" >					if(binarySize &lt; 0) <span class="cstat-no" title="statement not covered" >throw new Error('Negative binary type element size found for subtype 0x02');</span></span>
<span class="cstat-no" title="statement not covered" >					if(binarySize &gt; (totalBinarySize - 4)) <span class="cstat-no" title="statement not covered" >throw new Error('Binary type with subtype 0x02 contains to long binary size');</span></span>
<span class="cstat-no" title="statement not covered" >					if(binarySize &lt; (totalBinarySize - 4)) <span class="cstat-no" title="statement not covered" >throw new Error('Binary type with subtype 0x02 contains to short binary size');</span></span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        if(promoteBuffers &amp;&amp; promoteValues) {</span>
<span class="cstat-no" title="statement not covered" >          object[name] = buffer.slice(index, index + binarySize);</span>
        } else {
<span class="cstat-no" title="statement not covered" >          object[name] = new Binary(buffer.slice(index, index + binarySize), subType);</span>
        }
      } else {
<span class="cstat-no" title="statement not covered" >        var _buffer = typeof Uint8Array != 'undefined' ? new Uint8Array(new ArrayBuffer(binarySize)) : new Array(binarySize);</span>
        // If we have subtype 2 skip the 4 bytes for the size
<span class="cstat-no" title="statement not covered" >        if(subType == Binary.SUBTYPE_BYTE_ARRAY) {</span>
<span class="cstat-no" title="statement not covered" >          binarySize = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;</span>
<span class="cstat-no" title="statement not covered" >					if(binarySize &lt; 0) <span class="cstat-no" title="statement not covered" >throw new Error('Negative binary type element size found for subtype 0x02');</span></span>
<span class="cstat-no" title="statement not covered" >					if(binarySize &gt; (totalBinarySize - 4)) <span class="cstat-no" title="statement not covered" >throw new Error('Binary type with subtype 0x02 contains to long binary size');</span></span>
<span class="cstat-no" title="statement not covered" >					if(binarySize &lt; (totalBinarySize - 4)) <span class="cstat-no" title="statement not covered" >throw new Error('Binary type with subtype 0x02 contains to short binary size');</span></span>
        }
&nbsp;
        // Copy the data
<span class="cstat-no" title="statement not covered" >        for(var i = 0; i &lt; binarySize; i++) {</span>
<span class="cstat-no" title="statement not covered" >          _buffer[i] = buffer[index + i];</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        if(promoteBuffers &amp;&amp; promoteValues) {</span>
<span class="cstat-no" title="statement not covered" >          object[name] = _buffer;</span>
        } else {
<span class="cstat-no" title="statement not covered" >          object[name] = new Binary(_buffer, subType);</span>
        }
      }
&nbsp;
      // Update the index
<span class="cstat-no" title="statement not covered" >      index = index + binarySize;</span>
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_REGEXP &amp;&amp; bsonRegExp == false) {</span>
			// Get the start search index
<span class="cstat-no" title="statement not covered" >			var i = index;</span>
			// Locate the end of the c string
<span class="cstat-no" title="statement not covered" >			while(buffer[i] !== 0x00 &amp;&amp; i &lt; buffer.length) {</span>
<span class="cstat-no" title="statement not covered" >				i++</span>
			}
			// If are at the end of the buffer there is a problem with the document
<span class="cstat-no" title="statement not covered" >			if(i &gt;= buffer.length) <span class="cstat-no" title="statement not covered" >throw new Error("Bad BSON Document: illegal CString")</span></span>
			// Return the C string
<span class="cstat-no" title="statement not covered" >			var source = buffer.toString('utf8', index, i);</span>
      // Create the regexp
<span class="cstat-no" title="statement not covered" >			index = i + 1;</span>
&nbsp;
			// Get the start search index
<span class="cstat-no" title="statement not covered" >			var i = index;</span>
			// Locate the end of the c string
<span class="cstat-no" title="statement not covered" >			while(buffer[i] !== 0x00 &amp;&amp; i &lt; buffer.length) {</span>
<span class="cstat-no" title="statement not covered" >				i++</span>
			}
			// If are at the end of the buffer there is a problem with the document
<span class="cstat-no" title="statement not covered" >			if(i &gt;= buffer.length) <span class="cstat-no" title="statement not covered" >throw new Error("Bad BSON Document: illegal CString")</span></span>
			// Return the C string
<span class="cstat-no" title="statement not covered" >			var regExpOptions = buffer.toString('utf8', index, i);</span>
<span class="cstat-no" title="statement not covered" >			index = i + 1;</span>
&nbsp;
      // For each option add the corresponding one for javascript
<span class="cstat-no" title="statement not covered" >      var optionsArray = new Array(regExpOptions.length);</span>
&nbsp;
      // Parse options
<span class="cstat-no" title="statement not covered" >      for(var i = 0; i &lt; regExpOptions.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >        switch(regExpOptions[i]) {</span>
          case 'm':
<span class="cstat-no" title="statement not covered" >            optionsArray[i] = 'm';</span>
<span class="cstat-no" title="statement not covered" >            break;</span>
          case 's':
<span class="cstat-no" title="statement not covered" >            optionsArray[i] = 'g';</span>
<span class="cstat-no" title="statement not covered" >            break;</span>
          case 'i':
<span class="cstat-no" title="statement not covered" >            optionsArray[i] = 'i';</span>
<span class="cstat-no" title="statement not covered" >            break;</span>
        }
      }
&nbsp;
<span class="cstat-no" title="statement not covered" >      object[name] = new RegExp(source, optionsArray.join(''));</span>
    } else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_REGEXP &amp;&amp; bsonRegExp == true) {</span>
			// Get the start search index
<span class="cstat-no" title="statement not covered" >			var i = index;</span>
			// Locate the end of the c string
<span class="cstat-no" title="statement not covered" >			while(buffer[i] !== 0x00 &amp;&amp; i &lt; buffer.length) {</span>
<span class="cstat-no" title="statement not covered" >				i++</span>
			}
			// If are at the end of the buffer there is a problem with the document
<span class="cstat-no" title="statement not covered" >			if(i &gt;= buffer.length) <span class="cstat-no" title="statement not covered" >throw new Error("Bad BSON Document: illegal CString")</span></span>
			// Return the C string
<span class="cstat-no" title="statement not covered" >			var source = buffer.toString('utf8', index, i);</span>
<span class="cstat-no" title="statement not covered" >      index = i + 1;</span>
&nbsp;
			// Get the start search index
<span class="cstat-no" title="statement not covered" >			var i = index;</span>
			// Locate the end of the c string
<span class="cstat-no" title="statement not covered" >			while(buffer[i] !== 0x00 &amp;&amp; i &lt; buffer.length) {</span>
<span class="cstat-no" title="statement not covered" >				i++</span>
			}
			// If are at the end of the buffer there is a problem with the document
<span class="cstat-no" title="statement not covered" >			if(i &gt;= buffer.length) <span class="cstat-no" title="statement not covered" >throw new Error("Bad BSON Document: illegal CString")</span></span>
			// Return the C string
<span class="cstat-no" title="statement not covered" >			var regExpOptions = buffer.toString('utf8', index, i);</span>
<span class="cstat-no" title="statement not covered" >      index = i + 1;</span>
&nbsp;
      // Set the object
<span class="cstat-no" title="statement not covered" >      object[name] = new BSONRegExp(source, regExpOptions);</span>
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_SYMBOL) {</span>
<span class="cstat-no" title="statement not covered" >      var stringSize = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;</span>
<span class="cstat-no" title="statement not covered" >			if(stringSize &lt;= 0 || stringSize &gt; (buffer.length - index) || buffer[index + stringSize - 1] != 0) <span class="cstat-no" title="statement not covered" >throw new Error("bad string length in bson");</span></span>
<span class="cstat-no" title="statement not covered" >      object[name] = new Symbol(buffer.toString('utf8', index, index + stringSize - 1));</span>
<span class="cstat-no" title="statement not covered" >      index = index + stringSize;</span>
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_TIMESTAMP) {</span>
<span class="cstat-no" title="statement not covered" >      var lowBits = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;</span>
<span class="cstat-no" title="statement not covered" >      var highBits = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;</span>
<span class="cstat-no" title="statement not covered" >      object[name] = new Timestamp(lowBits, highBits);</span>
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_MIN_KEY) {</span>
<span class="cstat-no" title="statement not covered" >      object[name] = new MinKey();</span>
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_MAX_KEY) {</span>
<span class="cstat-no" title="statement not covered" >      object[name] = new MaxKey();</span>
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_CODE) {</span>
<span class="cstat-no" title="statement not covered" >      var stringSize = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;</span>
<span class="cstat-no" title="statement not covered" >			if(stringSize &lt;= 0 || stringSize &gt; (buffer.length - index) || buffer[index + stringSize - 1] != 0) <span class="cstat-no" title="statement not covered" >throw new Error("bad string length in bson");</span></span>
<span class="cstat-no" title="statement not covered" >      var functionString = buffer.toString('utf8', index, index + stringSize - 1);</span>
&nbsp;
      // If we are evaluating the functions
<span class="cstat-no" title="statement not covered" >      if(evalFunctions) {</span>
<span class="cstat-no" title="statement not covered" >        var value = null;</span>
        // If we have cache enabled let's look for the md5 of the function in the cache
<span class="cstat-no" title="statement not covered" >        if(cacheFunctions) {</span>
<span class="cstat-no" title="statement not covered" >          var hash = cacheFunctionsCrc32 ? crc32(functionString) : functionString;</span>
          // Got to do this to avoid V8 deoptimizing the call due to finding eval
<span class="cstat-no" title="statement not covered" >          object[name] = isolateEvalWithHash(functionCache, hash, functionString, object);</span>
        } else {
<span class="cstat-no" title="statement not covered" >          object[name] = isolateEval(functionString);</span>
        }
      } else {
<span class="cstat-no" title="statement not covered" >        object[name]  = new Code(functionString);</span>
      }
&nbsp;
      // Update parse index position
<span class="cstat-no" title="statement not covered" >      index = index + stringSize;</span>
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_CODE_W_SCOPE) {</span>
<span class="cstat-no" title="statement not covered" >      var totalSize = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;</span>
&nbsp;
			// Element cannot be shorter than totalSize + stringSize + documentSize + terminator
<span class="cstat-no" title="statement not covered" >			if(totalSize &lt; (4 + 4 + 4 + 1)) {</span>
<span class="cstat-no" title="statement not covered" >				throw new Error("code_w_scope total size shorter minimum expected length");</span>
			}
&nbsp;
			// Get the code string size
<span class="cstat-no" title="statement not covered" >      var stringSize = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;</span>
			// Check if we have a valid string
<span class="cstat-no" title="statement not covered" >			if(stringSize &lt;= 0 || stringSize &gt; (buffer.length - index) || buffer[index + stringSize - 1] != 0) <span class="cstat-no" title="statement not covered" >throw new Error("bad string length in bson");</span></span>
&nbsp;
      // Javascript function
<span class="cstat-no" title="statement not covered" >      var functionString = buffer.toString('utf8', index, index + stringSize - 1);</span>
      // Update parse index position
<span class="cstat-no" title="statement not covered" >      index = index + stringSize;</span>
      // Parse the element
<span class="cstat-no" title="statement not covered" >			var _index = index;</span>
      // Decode the size of the object document
<span class="cstat-no" title="statement not covered" >      var objectSize = buffer[index] | buffer[index + 1] &lt;&lt; 8 | buffer[index + 2] &lt;&lt; 16 | buffer[index + 3] &lt;&lt; 24;</span>
      // Decode the scope object
<span class="cstat-no" title="statement not covered" >      var scopeObject = deserializeObject(buffer, _index, options, false);</span>
      // Adjust the index
<span class="cstat-no" title="statement not covered" >      index = index + objectSize;</span>
&nbsp;
			// Check if field length is to short
<span class="cstat-no" title="statement not covered" >			if(totalSize &lt; (4 + 4 + objectSize + stringSize)) {</span>
<span class="cstat-no" title="statement not covered" >				throw new Error('code_w_scope total size is to short, truncating scope');</span>
			}
&nbsp;
			// Check if totalSize field is to long
<span class="cstat-no" title="statement not covered" >			if(totalSize &gt; (4 + 4 + objectSize + stringSize)) {</span>
<span class="cstat-no" title="statement not covered" >				throw new Error('code_w_scope total size is to long, clips outer document');</span>
			}
&nbsp;
      // If we are evaluating the functions
<span class="cstat-no" title="statement not covered" >      if(evalFunctions) {</span>
        // Contains the value we are going to set
<span class="cstat-no" title="statement not covered" >        var value = null;</span>
        // If we have cache enabled let's look for the md5 of the function in the cache
<span class="cstat-no" title="statement not covered" >        if(cacheFunctions) {</span>
<span class="cstat-no" title="statement not covered" >          var hash = cacheFunctionsCrc32 ? crc32(functionString) : functionString;</span>
          // Got to do this to avoid V8 deoptimizing the call due to finding eval
<span class="cstat-no" title="statement not covered" >          object[name] = isolateEvalWithHash(functionCache, hash, functionString, object);</span>
        } else {
<span class="cstat-no" title="statement not covered" >          object[name] = isolateEval(functionString);</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        object[name].scope = scopeObject;</span>
      } else {
<span class="cstat-no" title="statement not covered" >        object[name]  = new Code(functionString, scopeObject);</span>
      }
		} else <span class="cstat-no" title="statement not covered" >if(elementType == BSON.BSON_DATA_DBPOINTER) {</span>
			// Get the code string size
<span class="cstat-no" title="statement not covered" >      var stringSize = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;</span>
			// Check if we have a valid string
<span class="cstat-no" title="statement not covered" >			if(stringSize &lt;= 0 || stringSize &gt; (buffer.length - index) || buffer[index + stringSize - 1] != 0) <span class="cstat-no" title="statement not covered" >throw new Error("bad string length in bson");</span></span>
			// Namespace
<span class="cstat-no" title="statement not covered" >      var namespace = buffer.toString('utf8', index, index + stringSize - 1);</span>
			// Update parse index position
<span class="cstat-no" title="statement not covered" >      index = index + stringSize;</span>
&nbsp;
			// Read the oid
<span class="cstat-no" title="statement not covered" >			var oidBuffer = new Buffer(12);</span>
<span class="cstat-no" title="statement not covered" >			buffer.copy(oidBuffer, 0, index, index + 12);</span>
<span class="cstat-no" title="statement not covered" >      var oid = new ObjectID(oidBuffer);</span>
&nbsp;
			// Update the index
<span class="cstat-no" title="statement not covered" >			index = index + 12;</span>
&nbsp;
			// Split the namespace
<span class="cstat-no" title="statement not covered" >			var parts = namespace.split('.');</span>
<span class="cstat-no" title="statement not covered" >			var db = parts.shift();</span>
<span class="cstat-no" title="statement not covered" >			var collection = parts.join('.');</span>
			// Upgrade to DBRef type
<span class="cstat-no" title="statement not covered" >			object[name] = new DBRef(collection, oid, db);</span>
    } else {
<span class="cstat-no" title="statement not covered" >			throw new Error("Detected unknown BSON type " + elementType.toString(16) + " for fieldname \"" + name + "\", are you using the latest BSON parser");</span>
		}
  }
&nbsp;
	// Check if the deserialization was against a valid array/object
<span class="cstat-no" title="statement not covered" >	if(size != (index - startIndex)) {</span>
<span class="cstat-no" title="statement not covered" >		if(isArray) <span class="cstat-no" title="statement not covered" >throw new Error('corrupt array bson');</span></span>
<span class="cstat-no" title="statement not covered" >		throw new Error('corrupt object bson');</span>
	}
&nbsp;
  // Check if we have a db ref object
<span class="cstat-no" title="statement not covered" >  if(object['$id'] != null) <span class="cstat-no" title="statement not covered" >object = new DBRef(object['$ref'], object['$id'], object['$db']);</span></span>
<span class="cstat-no" title="statement not covered" >  return object;</span>
}
&nbsp;
/**
 * Ensure eval is isolated.
 *
 * @ignore
 * @api private
 */
var isolateEvalWithHash = <span class="fstat-no" title="function not covered" >function(functionCache, hash, functionString, object) {</span>
  // Contains the value we are going to set
<span class="cstat-no" title="statement not covered" >  var value = null;</span>
&nbsp;
  // Check for cache hit, eval if missing and return cached function
<span class="cstat-no" title="statement not covered" >  if(functionCache[hash] == null) {</span>
<span class="cstat-no" title="statement not covered" >    eval("value = " + functionString);</span>
<span class="cstat-no" title="statement not covered" >    functionCache[hash] = value;</span>
  }
  // Set the object
<span class="cstat-no" title="statement not covered" >  return functionCache[hash].bind(object);</span>
}
&nbsp;
/**
 * Ensure eval is isolated.
 *
 * @ignore
 * @api private
 */
var isolateEval = <span class="fstat-no" title="function not covered" >function(functionString) {</span>
  // Contains the value we are going to set
<span class="cstat-no" title="statement not covered" >  var value = null;</span>
  // Eval the function
<span class="cstat-no" title="statement not covered" >  eval("value = " + functionString);</span>
<span class="cstat-no" title="statement not covered" >  return value;</span>
}
&nbsp;
var BSON = {};
&nbsp;
/**
 * Contains the function cache if we have that enable to allow for avoiding the eval step on each deserialization, comparison is by md5
 *
 * @ignore
 * @api private
 */
var functionCache = BSON.functionCache = {};
&nbsp;
/**
 * Number BSON Type
 *
 * @classconstant BSON_DATA_NUMBER
 **/
BSON.BSON_DATA_NUMBER = 1;
/**
 * String BSON Type
 *
 * @classconstant BSON_DATA_STRING
 **/
BSON.BSON_DATA_STRING = 2;
/**
 * Object BSON Type
 *
 * @classconstant BSON_DATA_OBJECT
 **/
BSON.BSON_DATA_OBJECT = 3;
/**
 * Array BSON Type
 *
 * @classconstant BSON_DATA_ARRAY
 **/
BSON.BSON_DATA_ARRAY = 4;
/**
 * Binary BSON Type
 *
 * @classconstant BSON_DATA_BINARY
 **/
BSON.BSON_DATA_BINARY = 5;
/**
 * Binary BSON Type
 *
 * @classconstant BSON_DATA_UNDEFINED
 **/
BSON.BSON_DATA_UNDEFINED = 6;
/**
 * ObjectID BSON Type
 *
 * @classconstant BSON_DATA_OID
 **/
BSON.BSON_DATA_OID = 7;
/**
 * Boolean BSON Type
 *
 * @classconstant BSON_DATA_BOOLEAN
 **/
BSON.BSON_DATA_BOOLEAN = 8;
/**
 * Date BSON Type
 *
 * @classconstant BSON_DATA_DATE
 **/
BSON.BSON_DATA_DATE = 9;
/**
 * null BSON Type
 *
 * @classconstant BSON_DATA_NULL
 **/
BSON.BSON_DATA_NULL = 10;
/**
 * RegExp BSON Type
 *
 * @classconstant BSON_DATA_REGEXP
 **/
BSON.BSON_DATA_REGEXP = 11;
/**
 * Code BSON Type
 *
 * @classconstant BSON_DATA_DBPOINTER
 **/
BSON.BSON_DATA_DBPOINTER = 12;
/**
 * Code BSON Type
 *
 * @classconstant BSON_DATA_CODE
 **/
BSON.BSON_DATA_CODE = 13;
/**
 * Symbol BSON Type
 *
 * @classconstant BSON_DATA_SYMBOL
 **/
BSON.BSON_DATA_SYMBOL = 14;
/**
 * Code with Scope BSON Type
 *
 * @classconstant BSON_DATA_CODE_W_SCOPE
 **/
BSON.BSON_DATA_CODE_W_SCOPE = 15;
/**
 * 32 bit Integer BSON Type
 *
 * @classconstant BSON_DATA_INT
 **/
BSON.BSON_DATA_INT = 16;
/**
 * Timestamp BSON Type
 *
 * @classconstant BSON_DATA_TIMESTAMP
 **/
BSON.BSON_DATA_TIMESTAMP = 17;
/**
 * Long BSON Type
 *
 * @classconstant BSON_DATA_LONG
 **/
BSON.BSON_DATA_LONG = 18;
/**
 * Long BSON Type
 *
 * @classconstant BSON_DATA_DECIMAL128
 **/
BSON.BSON_DATA_DECIMAL128 = 19;
/**
 * MinKey BSON Type
 *
 * @classconstant BSON_DATA_MIN_KEY
 **/
BSON.BSON_DATA_MIN_KEY = 0xff;
/**
 * MaxKey BSON Type
 *
 * @classconstant BSON_DATA_MAX_KEY
 **/
BSON.BSON_DATA_MAX_KEY = 0x7f;
&nbsp;
/**
 * Binary Default Type
 *
 * @classconstant BSON_BINARY_SUBTYPE_DEFAULT
 **/
BSON.BSON_BINARY_SUBTYPE_DEFAULT = 0;
/**
 * Binary Function Type
 *
 * @classconstant BSON_BINARY_SUBTYPE_FUNCTION
 **/
BSON.BSON_BINARY_SUBTYPE_FUNCTION = 1;
/**
 * Binary Byte Array Type
 *
 * @classconstant BSON_BINARY_SUBTYPE_BYTE_ARRAY
 **/
BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY = 2;
/**
 * Binary UUID Type
 *
 * @classconstant BSON_BINARY_SUBTYPE_UUID
 **/
BSON.BSON_BINARY_SUBTYPE_UUID = 3;
/**
 * Binary MD5 Type
 *
 * @classconstant BSON_BINARY_SUBTYPE_MD5
 **/
BSON.BSON_BINARY_SUBTYPE_MD5 = 4;
/**
 * Binary User Defined Type
 *
 * @classconstant BSON_BINARY_SUBTYPE_USER_DEFINED
 **/
BSON.BSON_BINARY_SUBTYPE_USER_DEFINED = 128;
&nbsp;
// BSON MAX VALUES
BSON.BSON_INT32_MAX = 0x7FFFFFFF;
BSON.BSON_INT32_MIN = -0x80000000;
&nbsp;
BSON.BSON_INT64_MAX = Math.pow(2, 63) - 1;
BSON.BSON_INT64_MIN = -Math.pow(2, 63);
&nbsp;
// JS MAX PRECISE VALUES
BSON.JS_INT_MAX = 0x20000000000000;  // Any integer up to 2^53 can be precisely represented by a double.
BSON.JS_INT_MIN = -0x20000000000000;  // Any integer down to -2^53 can be precisely represented by a double.
&nbsp;
// Internal long versions
var JS_INT_MAX_LONG = Long.fromNumber(0x20000000000000);  // Any integer up to 2^53 can be precisely represented by a double.
var JS_INT_MIN_LONG = Long.fromNumber(-0x20000000000000);  // Any integer down to -2^53 can be precisely represented by a double.
&nbsp;
module.exports = deserialize
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Sun Apr 23 2017 14:27:58 GMT+0000 (UTC)</div>
</div>
</body>
</html>
